<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="gb2312">
    <title>刮刮乐</title>
    <style type="text/css">
        *{
            margin: 0;
            padding: 0;
        }
        img{
            width: 768px;
            height: 900px;
            left: 200px;
            position: absolute;
            z-index: -1;
        }
        canvas{
            margin-left:200px;
        }
    </style>
</head>
<body>
<img src="images/zzzz.jpg" alt="">
<canvas id="canvas" width="768" height="900"></canvas>
</body>
<script type="text/javascript">
    var canvas = document.getElementById("canvas");
    var  context =  canvas.getContext('2d');
    //画蒙布
    context.beginPath();
    context.fillStyle= 'grey';
    context.fillRect(0,0,768,900);
    //鼠标按下开刮
    canvas.onmousedown=function(){
        canvas.onmousemove = function(){
            //获取鼠标坐标
            var x = event.clientX;
            var y  = event.clientY;
            //destination-out             显示原来的不在后来区域的部分
            context.globalCompositeOperation = "destination-out";
            context.beginPath();
            context.arc(x-200,y,30,0,Math.PI*2);
            context.fill();
        }
    }
    //鼠标抬起不刮开
    canvas.onmouseup=function(){
        canvas.onmousemove = function(){
        }
    }
</script>
</html>